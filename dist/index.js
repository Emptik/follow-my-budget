!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.dateElement=document.querySelector(".date")}var n,a;return n=t,(a=[{key:"displayDate",value:function(){var e=new Date,t=e.getFullYear(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];this.dateElement.textContent="".concat(n," ").concat(t)}}])&&e(n.prototype,a),t}();function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r={modules:{form:new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formData=[],this.totalIncome=0,this.totalExpense=0}var t,a;return t=e,(a=[{key:"setFormData",value:function(e){var t=this.formData.find((function(t){return t.id===e.id}));void 0===t?this.formData.push(e):this.formData.splice(this.formData.indexOf(t),1)}},{key:"setTotalIncome",value:function(e){this.formData.find((function(t){return t.id===e.id}))?this.totalIncome-=e.value:this.totalIncome+=e.value}},{key:"setTotalExpense",value:function(e){void 0===this.formData.find((function(t){return t.id===e.id}))?this.totalExpense+=e.value:this.totalExpense-=e.value}},{key:"callFormSetters",value:function(e){switch(e.type){case"inc":this.setTotalIncome(e);break;case"exp":this.setTotalExpense(e)}this.setFormData(e)}}])&&n(t.prototype,a),e}()),budget:new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.budget=0}var t,n;return t=e,(n=[{key:"setBudget",value:function(e,t){this.budget=e-t}}])&&a(t.prototype,n),e}())}};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formElements={inputs:{type:document.querySelector(".form__field--type"),description:document.querySelector(".form__field--description"),value:document.querySelector(".form__field--value"),submit:document.querySelector(".form__submit")},errors:{description:document.querySelector(".form__error--description"),value:document.querySelector(".form__error--value")}},this.transaction=null,this.formPropagator=null}var t,n;return t=e,n=[{key:"addEventHandler",value:function(e){var t=this;this.formElements.inputs.submit.addEventListener("click",(function(n){t.formPropagator=e,t.checkFormData(),n.preventDefault()})),this.formElements.inputs.description.addEventListener("focus",(function(){t.formElements.errors.description.classList.add("form__error--display")})),this.formElements.inputs.value.addEventListener("focus",(function(){t.formElements.errors.value.classList.add("form__error--display")}))}},{key:"checkFormData",value:function(){var e={description:null,value:null};this.formElements.inputs.description.value.length<1||this.formElements.inputs.description.value.length>80?(e.description=!1,this.formElements.errors.description.classList.remove("form__error--display")):e.description=!0,Number(this.formElements.inputs.value.value)<=0?(e.value=!1,this.formElements.errors.value.classList.remove("form__error--display")):e.value=!0,!0===e.description&&!0===e.value&&this.createId()}},{key:"createId",value:function(){var e;e=null===this.transaction?1:this.transaction.id+1,this.addTransaction(e)}},{key:"addTransaction",value:function(e){this.transaction={id:e,type:this.formElements.inputs.type.value,description:this.formElements.inputs.description.value,value:parseFloat(this.formElements.inputs.value.value)},r.modules.form.callFormSetters(this.transaction),this.formPropagator(),this.clearFields()}},{key:"clearFields",value:function(){this.formElements.inputs.description.value="",this.formElements.inputs.value.value=""}}],n&&o(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.incomeContainer=document.querySelector(".app__incomeTransaction"),this.expensesContainer=document.querySelector(".app__expenseTransaction"),this.targetedTransaction=null}var t,n,a;return t=e,n=[{key:"addEventHandler",value:function(e,t){for(var n=this,a=document.querySelectorAll(".transaction__delete"),r=0;r<a.length;r+=1)a[r].addEventListener("click",(function(a){n.removeTransaction(a,e,t)}))}},{key:"createTransaction",value:function(){var e=r.modules.form.formData.slice(-1)[0];if("inc"===e.type){var t='\n            <div class="transaction" id="'.concat(e.id,'">\n                <div class="transaction__container transaction__container--row transaction__container--spaceBetween transaction__container--itemsCenter">\n                    <span>').concat(e.description,'</span>\n                    <div class="transaction__container transaction__container--row transaction__container--spaceBetween transaction__container--itemsCenter">\n                        <span class="transaction__value">').concat(e.value,'</span>\n                        <button class="transaction__delete transaction__delete--active">\n                            <i class="transaction__icon far fa-times-circle"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>');this.incomeContainer.insertAdjacentHTML("beforeend",t)}else{var n='\n            <div class="transaction" id="'.concat(e.id,'">\n                <div class="transaction__container transaction__container--row transaction__container--spaceBetween transaction__container--itemsCenter">\n                    <span class="transaction__description">').concat(e.description,'</span>\n                    <div class="transaction__container transaction__container--row transaction__container--spaceBetween transaction__container--itemsCenter">\n                        <span class="transaction__value">').concat(e.value,'</span>\n                        <span class="transaction__percentage transaction__percentage--center"></span>\n                        <button class="transaction__delete transaction__delete--active">\n                            <i class="transaction__icon far fa-times-circle"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>');this.expensesContainer.insertAdjacentHTML("beforeend",n)}}},{key:"removeTransaction",value:function(e,t,n){var a=this;if(this.targetedTransaction=e.target.parentElement.parentElement.parentElement.parentElement,null!==this.targetedTransaction.parentElement){this.targetedTransaction.parentElement.removeChild(this.targetedTransaction);var o=r.modules.form.formData.find((function(e){return e.id===Number(a.targetedTransaction.id)}));r.modules.form.callFormSetters(o),t(),n()}}}],a=[{key:"addPercentage",value:function(){document.querySelectorAll(".transaction__percentage").forEach((function(e){var t=e,n=t.parentElement.parentElement.parentElement.id,a=100*r.modules.form.formData.find((function(e){return e.id===Number(n)})).value/r.modules.form.totalIncome;t.textContent="".concat(Math.round(a)," %")}))}}],n&&c(t.prototype,n),a&&c(t,a),e}();function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.budgetElement=document.querySelector(".budget")}var t,n,a;return t=e,a=[{key:"calculateBudget",value:function(){r.modules.budget.setBudget(r.modules.form.totalIncome,r.modules.form.totalExpense)}}],(n=[{key:"displayBudget",value:function(){this.budgetElement.textContent=r.modules.budget.budget}}])&&l(t.prototype,n),a&&l(t,a),e}();function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardIncomeElement=document.querySelector(".card__value--income"),this.cardExpenseElement=document.querySelector(".card__value--expense"),this.cardExpensePercentageElement=document.querySelector(".card__percentage"),this.expensePercentage=null}var t,n;return t=e,(n=[{key:"calculatePercentage",value:function(){this.expensePercentage=100*r.modules.form.totalExpense/r.modules.form.totalIncome}},{key:"displayCard",value:function(){this.cardIncomeElement.textContent="+ ".concat(r.modules.form.totalIncome),this.cardExpenseElement.textContent="- ".concat(r.modules.form.totalExpense),this.cardExpensePercentageElement.textContent="".concat(Math.round(this.expensePercentage)," %")}}])&&d(t.prototype,n),e}(),m=function(){var e=new u;u.calculateBudget(),e.displayBudget()},p=function(){var e=new f;e.calculatePercentage(),e.displayCard()},v=function(){p()},h=function(){s.addPercentage(),m()};(new t).displayDate(),(new i).addEventHandler((function(){var e;(e=new s).createTransaction(),s.addPercentage(),e.addEventHandler(h,v),p(),m()}))}();
//# sourceMappingURL=index.js.map